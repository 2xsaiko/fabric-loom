plugins {
    id 'java'
    id 'groovy'
    id 'maven'

    id 'idea'
    id 'eclipse'
}

sourceCompatibility = 1.8
targetCompatibility = 1.8

apply from: 'https://github.com/FabricMC/fabric-docs/raw/master/gradle/maven.gradle'
apply from: 'https://github.com/FabricMC/fabric-docs/raw/master/gradle/license.gradle'

group = 'net.fabricmc'
archivesBaseName = project.name.toLowerCase()
version = '0.0.5-SNAPSHOT'

repositories {
    mavenCentral()
    maven {
        name = 'fabric'
        url = 'http://maven.fabricmc.net/'
    }
	maven {
        name = 'cuchaz'
        url = 'http://maven.cuchazinteractive.com/'
    }
	maven {
		name "RX14 Repository"
		url 'http://mvn.rx14.co.uk/local/'
	}
	maven {
		name = 'Mojang'
		url = 'https://libraries.minecraft.net/'
	}
	maven {
		name = 'SpongePowered'
		url = 'http://repo.spongepowered.org/maven'
	}
}

configurations {
    deployerJars
    shade
    compile.extendsFrom shade
}

dependencies {
    compile gradleApi()

	shade 'org.zeroturnaround:zt-zip:1.9'
	shade 'org.slf4j:slf4j-api:1.7.21'
	shade 'org.slf4j:slf4j-simple:1.7.21'
	shade 'com.google.code.gson:gson:2.6.2'
	shade 'commons-io:commons-io:1.4'
	shade 'com.google.guava:guava:19.0'
	shade 'net.fabricmc:weave:0.1.0.6'
	shade 'cuchaz:enigma:0.11.0.19:lib'
	shade 'net.fabricmc:tiny-remapper:+'

	compile 'net.fabricmc:fabric-base:16w38a-0.0.4-SNAPSHOT'
}

sourceSets {
    main.compileClasspath += configurations.shade;
    main.runtimeClasspath += configurations.shade;
    test.compileClasspath += configurations.shade;
    test.runtimeClasspath += configurations.shade;
}

jar {
	from {
		configurations.shade.collect { it.isDirectory() ? it : zipTree(it) }
	}
}


task wrapper(type: Wrapper) {
    gradleVersion = '3.1'
}
